<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>박상진 첫 번째 피리 독주회</title>

  <style>
    :root{
      --bg:#070b10;
      --panel:rgba(255,255,255,0.06);
      --panel2:rgba(255,255,255,0.04);
      --line:rgba(255,255,255,0.10);
      --text:rgba(255,255,255,0.92);
      --muted:rgba(255,255,255,0.70);
      --muted2:rgba(255,255,255,0.55);
      --accent:rgba(170,200,255,0.95);
      --shadow:0 14px 38px rgba(0,0,0,0.38);
      --radius:18px;
      --radius2:22px;
      --max:1180px;
      --headerH:70px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      background:
        radial-gradient(1200px 650px at 15% 10%, rgba(90,140,220,0.28), rgba(0,0,0,0) 60%),
        radial-gradient(950px 520px at 85% 18%, rgba(150,190,255,0.18), rgba(0,0,0,0) 65%),
        linear-gradient(180deg, #05080c 0%, #070b10 30%, #070b10 100%);
      font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", "Noto Sans KR", "Segoe UI", Roboto, Arial, sans-serif;
      letter-spacing:-0.2px;
      overflow-x:hidden;
    }

    a{color:inherit; text-decoration:none}
    img{max-width:100%; display:block}

    header{
      position:sticky;
      top:0;
      z-index:50;
      min-height:var(--headerH);
      backdrop-filter: blur(10px);
      background: rgba(7,11,16,0.74);
      border-bottom:1px solid rgba(255,255,255,0.08);
    }

    .header-inner{
      max-width:var(--max);
      margin:0 auto;
      padding:10px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
      flex: 1 1 auto;
    }
    .brand-mark{
      width:40px;
      height:40px;
      border-radius:12px;
      background: linear-gradient(135deg, rgba(150,190,255,0.35), rgba(255,255,255,0.06));
      border:1px solid rgba(255,255,255,0.10);
      box-shadow: 0 10px 18px rgba(0,0,0,0.25);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:950;
      color: rgba(255,255,255,0.88);
      flex: 0 0 auto;
    }

    /* 모바일 잘림 방지: 2줄 허용 + 폰트 반응형 */
    .brand-title{
      display:flex;
      flex-direction:column;
      line-height:1.15;
      min-width:0;
      flex: 1 1 auto;
    }
    .brand-title strong{
      margin:0;
      font-size: clamp(12px, 3.6vw, 14px);
      font-weight:950;
      color: rgba(255,255,255,0.92);
      overflow:hidden;
      display:-webkit-box;
      -webkit-line-clamp:2;
      -webkit-box-orient:vertical;
      word-break:keep-all;
    }
    .brand-title span{
      font-size: clamp(11px, 3.2vw, 12px);
      color: var(--muted2);
      margin-top:4px;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }

    nav{
      display:flex;
      align-items:center;
      gap:8px;
      flex: 0 0 auto;
      overflow-x:auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width:none;
      max-width: 55vw;
    }
    nav::-webkit-scrollbar{display:none}

    .nav-link{
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      color: rgba(255,255,255,0.86);
      font-size:13px;
      transition: transform 0.15s ease, background 0.15s ease, border 0.15s ease;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
      flex: 0 0 auto;
    }
    .nav-link:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,0.06);
      border:1px solid rgba(255,255,255,0.16);
    }
    .btn{
      padding:10px 14px;
      border-radius:999px;
      border:1px solid rgba(170,200,255,0.35);
      background: rgba(170,200,255,0.14);
      color: rgba(255,255,255,0.94);
      font-size:13px;
      font-weight:950;
      cursor:pointer;
      transition: transform 0.15s ease, background 0.15s ease, border 0.15s ease;
      white-space:nowrap;
      flex: 0 0 auto;
    }
    .btn:hover{
      transform: translateY(-1px);
      background: rgba(170,200,255,0.18);
      border:1px solid rgba(170,200,255,0.46);
    }

    main{
      max-width:var(--max);
      margin:0 auto;
      padding: 18px 14px 76px;
    }

    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.04));
      border:1px solid rgba(255,255,255,0.10);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .panel-inner{ padding: 26px 18px; }

    .sec-title{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:14px;
      padding: 0 2px 14px;
      border-bottom:1px solid rgba(255,255,255,0.06);
      margin-bottom:16px;
    }
    .sec-title h2{
      margin:0;
      font-size:20px;
      letter-spacing:-0.4px;
    }
    .sec-title p{
      margin:0;
      color: var(--muted2);
      font-size:13px;
      line-height:1.45;
      text-align:right;
      word-break:keep-all;
    }

    .anchor{
      scroll-margin-top: calc(var(--headerH) + 14px);
    }

    /* HERO */
    .hero{
      position:relative;
      padding: 26px 18px;
    }
    .hero-wrap{
      display:grid;
      grid-template-columns: 1fr 0.95fr;
      gap: 18px;
      align-items:stretch;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(740px 460px at 20% 10%, rgba(150,190,255,0.22), rgba(0,0,0,0) 60%),
        radial-gradient(680px 520px at 80% 30%, rgba(255,255,255,0.06), rgba(0,0,0,0) 60%);
      pointer-events:none;
    }
    .hero-left, .hero-right{position:relative; z-index:1}

    .hero-kicker{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 8px 12px;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      font-size:13px;
      color: rgba(255,255,255,0.86);
    }
    .hero-kicker b{color: rgba(255,255,255,0.94)}
    .hero h1{
      margin:14px 0 10px;
      font-size:34px;
      letter-spacing:-0.8px;
      line-height:1.15;
      word-break:keep-all;
    }
    .hero .sub{
      margin:0 0 18px;
      color: var(--muted);
      line-height:1.7;
      font-size:15px;
      max-width: 62ch;
      word-break:keep-all;
    }
    .meta{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top: 14px;
    }
    .meta .box{
      padding: 14px 14px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.035);
      min-width:0;
    }
    .meta .k{ font-size:12px; color: var(--muted2); margin-bottom:6px; }
    .meta .v{
      font-size:14px;
      color: rgba(255,255,255,0.92);
      line-height:1.35;
      font-weight:950;
      word-break:keep-all;
    }

    /* 이미지 영역: 크기 확보 + 클릭 확대 */
    .img-frame{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:10px;
      cursor: zoom-in;
    }
    .img-frame img{
      width:100%;
      height:100%;
      object-fit: contain;
      object-position:center;
    }
    .poster-frame{ min-height: 520px; }
    .pamphlet-frame{ min-height: 560px; }

    /* 독주자 */
    .solo{
      display:grid;
      grid-template-columns: 340px 1fr;
      gap:18px;
      align-items:stretch;
    }
    .solo-photo{
      min-height: 520px;
    }
    .solo-info{
      padding: 6px 6px 0;
      display:flex;
      flex-direction:column;
      justify-content:center;
      min-width:0;
    }
    .solo-role{
      color: rgba(170,200,255,0.95);
      font-weight:950;
      font-size:13px;
    }
    .solo-name{
      margin:10px 0 10px;
      font-size:28px;
      font-weight:950;
      letter-spacing:-0.8px;
    }

    /* 출연진 */
    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }
    .card{
      border-radius: 18px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.035);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 320px;
    }
    /* 얼굴 잘림 방지: cover 금지 -> contain */
    .card .ph{
      height: 260px;
      background: rgba(255,255,255,0.03);
      border-bottom: 1px solid rgba(255,255,255,0.08);
      overflow:hidden;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:10px;
    }
    .card .ph img{
      width:100%;
      height:100%;
      object-fit: contain;
      object-position: center;
      cursor: zoom-in;
    }
    .card .tx{
      padding: 12px 12px 14px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .card .inst{
      font-size:12px;
      color: rgba(170,200,255,0.95);
      font-weight:950;
    }
    .card .nm{
      font-size:15px;
      font-weight:950;
      margin:0;
      letter-spacing:-0.2px;
    }

    /* 팜플렛 */
    .pamphlets{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
    }

    /* 안내 리스트 */
    .list{
      margin:0;
      padding-left: 18px;
      color: rgba(255,255,255,0.88);
      line-height:1.85;
      font-size:14px;
      word-break:keep-all;
    }
    .list li{margin:6px 0}
    .note{
      margin-top: 12px;
      color: var(--muted2);
      font-size:12px;
      line-height:1.7;
      word-break:keep-all;
    }

    /* 장소/지도 */
    .two{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:16px;
      align-items:stretch;
    }
    .map{
      border-radius: 18px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.03);
      min-height: 420px;
    }
    iframe{ width:100%; height:100%; border:0; display:block; }

    /* 후원/제작 로고 */
    .logos{
      display:flex;
      flex-wrap:wrap;
      gap:14px;
      align-items:center;
      justify-content:flex-start;
    }
    .logo-item{
      border-radius: 16px;
      border:1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      padding: 12px 14px;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height: 74px;
    }
    .logo-item img{
      height: 48px;
      width:auto;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,0.22));
    }

    footer{
      margin-top:18px;
      padding: 12px 2px 0;
      color: rgba(255,255,255,0.55);
      font-size:12px;
      line-height:1.7;
      word-break:keep-all;
    }

    /* Lightbox (확대 보기) */
    .lb{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.78);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
      padding: 18px;
    }
    .lb.open{display:flex;}
    .lb-inner{
      width:min(1100px, 98vw);
      height:min(92vh, 920px);
      border-radius: 16px;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.14);
      background: rgba(10,14,20,0.92);
      box-shadow: 0 20px 60px rgba(0,0,0,0.55);
      position:relative;
      display:flex;
      flex-direction:column;
    }
    .lb-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.82);
      font-size:12px;
    }
    .lb-close{
      border:1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.92);
      border-radius: 10px;
      padding: 8px 10px;
      cursor:pointer;
      font-weight:900;
      white-space:nowrap;
    }
    .lb-body{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 10px;
    }
    .lb-body img{
      width:100%;
      height:100%;
      object-fit: contain;
      object-position:center;
    }

    @media (max-width: 1100px){
      .hero-wrap{grid-template-columns:1fr}
      .two{grid-template-columns:1fr}
      .solo{grid-template-columns: 1fr}
      .pamphlets{grid-template-columns:1fr}
      .grid{grid-template-columns: repeat(2, 1fr)}
      nav{max-width: 62vw;}
    }
    @media (max-width: 560px){
      .grid{grid-template-columns: 1fr}
      .meta{grid-template-columns: 1fr}
      .hero h1{font-size:28px}
      nav{max-width: 64vw;}
      .poster-frame{ min-height: 420px; }
      .pamphlet-frame{ min-height: 460px; }
      .solo-photo{ min-height: 460px; }
    }
  </style>
</head>

<body>
  <header>
    <div class="header-inner">
      <div class="brand" role="banner">
        <div class="brand-mark">興</div>
        <div class="brand-title">
          <strong>박상진 첫 번째 피리 독주회</strong>
          <span>2026. 01. 31. (토) 17:00</span>
        </div>
      </div>

      <nav aria-label="주요 메뉴">
        <a class="nav-link" href="#poster">포스터</a>
        <a class="nav-link" href="#info">공연 안내</a>
        <a class="nav-link" href="#solo">독주자</a>
        <a class="nav-link" href="#cast">출연진</a>
        <a class="nav-link" href="#pamphlet">팜플렛</a>
        <a class="nav-link" href="#place">장소·지도</a>
        <a class="nav-link" href="#support">후원·제작</a>
        <a class="btn" href="https://naver.me/xcA1pVbg" target="_blank" rel="noopener">사전신청</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <div class="panel">
      <div class="hero">
        <div class="hero-wrap">
          <div class="hero-left">
            <div class="hero-kicker">
              <b>2026년 첫 번째 국악콘서트</b>
              <span>무료 관람</span>
            </div>

            <h1>박상진 첫 번째 피리 독주회</h1>
            <p class="sub">
              섬세하면서도 힘 있는 피리의 선율, 국악의 진면목을 느낄 수 있는 공연입니다.
              천안시민·청소년 누구나 무료로 관람하실 수 있습니다.
            </p>

            <div class="meta">
              <div class="box">
                <div class="k">공연 일시</div>
                <div class="v">2026. 01. 31. (토) 17:00</div>
              </div>
              <div class="box">
                <div class="k">공연 장소</div>
                <div class="v">천안시청소년복합커뮤니티센터 1층 대공연장</div>
              </div>
              <div class="box">
                <div class="k">관람 안내</div>
                <div class="v">전석 무료 관람</div>
              </div>
              <div class="box">
                <div class="k">사전신청</div>
                <div class="v">네이버폼 접수</div>
              </div>
            </div>
          </div>

          <div class="hero-right anchor" id="poster">
            <div class="img-frame poster-frame" data-zoom="poster.png" data-title="포스터 크게 보기">
              <img data-src="poster.png" alt="공연 포스터 이미지" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- INFO -->
    <div class="panel anchor" id="info" style="margin-top:18px">
      <div class="panel-inner">
        <div class="sec-title">
          <h2>공연 안내</h2>
          <p>사전신청을 통해 보다 편안하게 관람하실 수 있습니다.</p>
        </div>

        <ul class="list">
          <li>사전 신청 시 보다 여유롭고 가까운 자리에서 공연을 관람하실 수 있습니다.</li>
          <li>관람석 200석 사전신청을 통한 선예약이 진행되며, 신청 시 대표자 연락처로 확정 문자를 보내드립니다.</li>
          <li>본행사 당일 공연장 우선 입장과 좌석 안내를 도와드리며, 지정좌석제가 아님을 안내드립니다.</li>
          <li>사전신청 200석 외 당일 현장접수로도 관람이 가능합니다.</li>
        </ul>

        <div class="note">
          신청기간: 사전예약좌석 200석 마감까지<br>
          공연일시: 2026. 1. 31. (토) 17시<br>
          공연장소: 천안시청소년복합커뮤니티센터 1층 대공연장<br>
          지원방법: 홈페이지 공지사항을 참고하여 네이버폼을 통한 사전신청서 제출 (https://naver.me/xcA1pVbg)<br>
          문 의: 교육사업팀 041-557-0924
        </div>
      </div>
    </div>

    <!-- SOLOIST -->
    <div class="panel anchor" id="solo" style="margin-top:18px">
      <div class="panel-inner">
        <div class="sec-title">
          <h2>독주자</h2>
          <p>주최·주관: 박상진</p>
        </div>

        <div class="solo">
          <div class="img-frame solo-photo" data-zoom="profile-park.png" data-title="독주자 프로필 크게 보기">
            <img data-src="profile-park.png" alt="피리 연주자 박상진 프로필 사진" />
          </div>

          <div class="solo-info">
            <div class="solo-role">피리</div>
            <div class="solo-name">박상진</div>
          </div>
        </div>
      </div>
    </div>

    <!-- CAST -->
    <div class="panel anchor" id="cast" style="margin-top:18px">
      <div class="panel-inner">
        <div class="sec-title">
          <h2>출연진</h2>
          <p>독주회에 참여하는 출연진입니다.</p>
        </div>

        <div class="grid">
          <div class="card">
            <div class="ph" data-zoom="profile-gayageum.png" data-title="가야금 프로필 크게 보기">
              <img data-src="profile-gayageum.png" alt="가야금 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">가야금</div>
              <p class="nm">이현주</p>
            </div>
          </div>

          <div class="card">
            <div class="ph" data-zoom="profile-haegeum.png" data-title="해금 프로필 크게 보기">
              <img data-src="profile-haegeum.png" alt="해금 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">해금</div>
              <p class="nm">조소연</p>
            </div>
          </div>

          <div class="card">
            <div class="ph" data-zoom="profile-daegum.png" data-title="대금 프로필 크게 보기">
              <img data-src="profile-daegum.png" alt="대금 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">대금</div>
              <p class="nm">김진수</p>
            </div>
          </div>

          <div class="card">
            <div class="ph" data-zoom="profile-seodo.png" data-title="서도소리 프로필 크게 보기">
              <img data-src="profile-seodo.png" alt="서도소리 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">서도소리</div>
              <p class="nm">박래송</p>
            </div>
          </div>

          <div class="card">
            <div class="ph" data-zoom="profile-ajaeng.png" data-title="아쟁 프로필 크게 보기">
              <img data-src="profile-ajaeng.png" alt="아쟁 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">아쟁</div>
              <p class="nm">김명신</p>
            </div>
          </div>

          <div class="card">
            <div class="ph" data-zoom="profile-perc.png" data-title="타악 프로필 크게 보기">
              <img data-src="profile-perc.png" alt="타악 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">타악</div>
              <p class="nm">한유림</p>
            </div>
          </div>

          <div class="card">
            <div class="ph" data-zoom="profile-namdo.png" data-title="남도소리 프로필 크게 보기">
              <img data-src="profile-namdo.png" alt="남도소리 출연진 프로필" />
            </div>
            <div class="tx">
              <div class="inst">남도소리</div>
              <p class="nm">이혜원</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- PAMPHLET -->
    <div class="panel anchor" id="pamphlet" style="margin-top:18px">
      <div class="panel-inner">
        <div class="sec-title">
          <h2>팜플렛</h2>
          <p>이미지를 누르면 크게 확인하실 수 있습니다.</p>
        </div>

        <div class="pamphlets">
          <div class="img-frame pamphlet-frame" data-zoom="pamphlet-a.png" data-title="팜플렛 A면 크게 보기">
            <img data-src="pamphlet-a.png" alt="팜플렛 A면" />
          </div>
          <div class="img-frame pamphlet-frame" data-zoom="pamphlet-b.png" data-title="팜플렛 B면 크게 보기">
            <img data-src="pamphlet-b.png" alt="팜플렛 B면" />
          </div>
        </div>
      </div>
    </div>

    <!-- PLACE -->
    <div class="panel anchor" id="place" style="margin-top:18px">
      <div class="panel-inner">
        <div class="sec-title">
          <h2>장소·지도</h2>
          <p>천안시청소년복합커뮤니티센터 1층 대공연장</p>
        </div>

        <div class="two">
          <div class="panel" style="box-shadow:none">
            <div class="panel-inner">
              <ul class="list" style="margin-top:0">
                <li>공연일시: 2026. 1. 31. (토) 17시</li>
                <li>공연장소: 천안시청소년복합커뮤니티센터 1층 대공연장</li>
                <li>지원방법: 네이버폼을 통한 사전신청서 제출</li>
                <li>문 의: 교육사업팀 041-557-0924</li>
              </ul>
              <div class="note">사전예약좌석 200석 외 당일 현장접수로도 관람이 가능합니다.</div>
            </div>
          </div>

          <div class="map">
            <iframe
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src="https://www.google.com/maps?q=%EC%B2%9C%EC%95%88%EC%8B%9C%EC%B2%AD%EC%86%8C%EB%85%84%EB%B3%B5%ED%95%A9%EC%BB%A4%EB%AE%A4%EB%8B%88%ED%8B%B0%EC%84%BC%ED%84%B0&output=embed">
            </iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- SUPPORT -->
    <div class="panel anchor" id="support" style="margin-top:18px">
      <div class="panel-inner">
        <div class="sec-title">
          <h2>후원·제작</h2>
          <p>후원·제작 표기 로고입니다.</p>
        </div>

        <div class="logos">
          <div class="logo-item"><img data-src="logo-cheonanfoundation.png" alt="천안문화재단 로고" /></div>
          <div class="logo-item"><img data-src="logo-youthhub.png" alt="천안시청소년복합커뮤니티센터 로고" /></div>
          <div class="logo-item"><img data-src="logo-theheungcompany.png" alt="더흥컴퍼니 로고" /></div>
          <div class="logo-item"><img data-src="logo-clartwork.png" alt="CL artwork 로고" /></div>
        </div>

        <footer>
          본 사업은 2025년도 천안문화재단 문화예술보조금을 지원받아 진행됩니다.
        </footer>
      </div>
    </div>

  </main>

  <!-- Lightbox -->
  <div class="lb" id="lightbox" aria-hidden="true">
    <div class="lb-inner" role="dialog" aria-modal="true">
      <div class="lb-top">
        <div id="lbTitle">이미지 크게 보기</div>
        <button class="lb-close" id="lbClose" type="button">닫기</button>
      </div>
      <div class="lb-body">
        <img id="lbImg" alt="확대 이미지" />
      </div>
    </div>
  </div>

  <script>
    /* 앵커 스크롤(모바일 안정) */
    (function(){
      function headerHeight(){
        var v = getComputedStyle(document.documentElement).getPropertyValue('--headerH').trim();
        var n = parseInt(v, 10);
        return isNaN(n) ? 70 : n;
      }
      function scrollToId(id){
        var el = document.getElementById(id);
        if(!el) return;
        var top = el.getBoundingClientRect().top + window.pageYOffset - headerHeight() - 10;
        window.scrollTo({ top: top, behavior: 'smooth' });
      }
      document.querySelectorAll('a[href^="#"]').forEach(function(a){
        a.addEventListener('click', function(e){
          var hash = a.getAttribute('href');
          if(!hash || hash.length < 2) return;
          e.preventDefault();
          var id = hash.slice(1);
          history.pushState(null, '', hash);
          scrollToId(id);
        }, { passive:false });
      });
      if(location.hash && location.hash.length > 1){
        var id = location.hash.slice(1);
        setTimeout(function(){ scrollToId(id); }, 120);
      }
    })();

    /* 이미지 경로 폴백: 루트 실패 시 images/ -> assets/ 순서로 시도 */
    (function(){
      var prefixes = ["", "images/", "assets/"];

      function tryLoad(img, filename){
        var i = 0;
        function next(){
          if(i >= prefixes.length){
            img.alt = (img.alt || "이미지") + " (파일을 찾지 못했습니다)";
            return;
          }
          img.src = prefixes[i] + filename;
          i++;
        }
        img.onerror = next;
        next();
      }

      document.querySelectorAll('img[data-src]').forEach(function(img){
        var name = img.getAttribute('data-src');
        if(name) tryLoad(img, name);
      });
    })();

    /* 라이트박스 확대 보기 */
    (function(){
      var lb = document.getElementById('lightbox');
      var lbImg = document.getElementById('lbImg');
      var lbTitle = document.getElementById('lbTitle');
      var closeBtn = document.getElementById('lbClose');

      function open(srcName, title){
        lbTitle.textContent = title || "이미지 크게 보기";
        lb.classList.add('open');
        lb.setAttribute('aria-hidden', 'false');

        // 폴백 포함 로딩
        var prefixes = ["", "images/", "assets/"];
        var i = 0;
        function next(){
          if(i >= prefixes.length){
            lbImg.alt = "이미지 파일을 찾지 못했습니다";
            return;
          }
          lbImg.src = prefixes[i] + srcName;
          i++;
        }
        lbImg.onerror = next;
        next();
      }

      function close(){
        lb.classList.remove('open');
        lb.setAttribute('aria-hidden', 'true');
        lbImg.src = "";
      }

      document.querySelectorAll('[data-zoom]').forEach(function(el){
        el.addEventListener('click', function(){
          var src = el.getAttribute('data-zoom');
          var title = el.getAttribute('data-title') || "이미지 크게 보기";
          if(src) open(src, title);
        });
      });

      closeBtn.addEventListener('click', close);
      lb.addEventListener('click', function(e){
        if(e.target === lb) close();
      });
      document.addEventListener('keydown', function(e){
        if(e.key === 'Escape') close();
      });
    })();
  </script>
</body>
</html>